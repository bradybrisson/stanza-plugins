# Plugin Info
version: 0.0.1
title: Sflow
description: Log parser for Sflow
min_stanza_version: 1.1.0
parameters:
  - name: listen_address
    label: Listen Address
    description: The IP address to bind to
    type: string
    default: "0.0.0.0"
  - name: port
    label: UDP Port
    description: The UDP port to bind to
    type: int
    required: true

# Set Defaults
# {{$listen_address := default "0.0.0.0" .listen_address}}
# {{$port := default 2056 .port}}

# Pipeline Template
pipeline:
- type: goflow_input
  mode: sflow
  address: {{ $listen_address }}
  port: {{ $port }}
  labels:
    log_type: sflow
    plugin_id: {{ .id }}

# Remove goflow specific field
- type: remove
  field: $record.type
  output: {{ .output }}
